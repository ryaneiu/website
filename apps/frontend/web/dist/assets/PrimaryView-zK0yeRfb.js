const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DVDxkDxw.js","assets/index-Dxn2WRx0.js","assets/index-BWM3n5lU.css","assets/Discover-wvt1bwHe.js","assets/Trending-H7GKGbXl.js","assets/Profile-D2EHXkzB.js"])))=>i.map(i=>d[i]);
import{r as te,c as Ft,u as St,j as c,A as _t,F as ee,a as R,R as ne,b as et,d as ut,L as oe,_ as dt,e as Zt,f as ht,B as Tt,s as ie,g as se,h as re,i as le}from"./index-Dxn2WRx0.js";import{T as Ht}from"./TransparentIconButton-BruHbNhV.js";var ce=te();const st=Ft(()=>({visible:!1})),ae=ut.lazy(()=>dt(()=>import("./Home-DVDxkDxw.js"),__vite__mapDeps([0,1,2]))),fe=ut.lazy(()=>dt(()=>import("./Discover-wvt1bwHe.js"),__vite__mapDeps([3,1,2]))),ue=ut.lazy(()=>dt(()=>import("./Trending-H7GKGbXl.js"),__vite__mapDeps([4,1,2]))),de=ut.lazy(()=>dt(()=>import("./Profile-D2EHXkzB.js"),__vite__mapDeps([5,1,2])));function he(){const t=st(n=>n.visible),e=St(n=>n.width);return c.jsxs("div",{className:"flex-grow-1 h-full p-16 relative",children:[c.jsx(_t,{children:t&&e<640&&c.jsx(ee,{className:"absolute w-full h-full bg-black opacity-50 top-0 left-0",finalOpacity:.5,children:c.jsx("span",{})})}),c.jsx(R.Suspense,{fallback:c.jsx(oe,{}),children:c.jsxs(ne,{children:[c.jsx(et,{index:!0,element:c.jsx(ae,{})}),c.jsx(et,{path:"discover",element:c.jsx(fe,{})}),c.jsx(et,{path:"trending",element:c.jsx(ue,{})}),c.jsx(et,{path:"profile",element:c.jsx(de,{})})]})})]})}function ge({options:t,floatingRef:e,x:n,y:o,strategy:i,visible:s}){const r=l=>{l.onClick&&l.onClick()};return s&&c.jsx("div",{ref:e,style:{position:i,top:o??0,left:n??0},className:"bg-white border border-black/15 rounded-md flex flex-col shadow-lg z-90",children:t.map((l,a)=>c.jsxs("button",{onClick:()=>r(l),className:"border-b border-black/5 flex items-center gap-2 px-2 py-2 hover:bg-black/5 cursor-pointer transition-colors",children:[c.jsx("span",{children:l.icon}),c.jsx("span",{className:"font-bold",children:l.text})]},a))})}const rt=Math.min,I=Math.max,lt=Math.round,nt=Math.floor,M=t=>({x:t,y:t}),me={left:"right",right:"left",bottom:"top",top:"bottom"},xe={start:"end",end:"start"};function Ot(t,e,n){return I(t,rt(e,n))}function gt(t,e){return typeof t=="function"?t(e):t}function W(t){return t.split("-")[0]}function mt(t){return t.split("-")[1]}function Vt(t){return t==="x"?"y":"x"}function It(t){return t==="y"?"height":"width"}const pe=new Set(["top","bottom"]);function H(t){return pe.has(W(t))?"y":"x"}function Wt(t){return Vt(H(t))}function we(t,e,n){n===void 0&&(n=!1);const o=mt(t),i=Wt(t),s=It(i);let r=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=ct(r)),[r,ct(r)]}function ve(t){const e=ct(t);return[Rt(t),e,Rt(e)]}function Rt(t){return t.replace(/start|end/g,e=>xe[e])}const kt=["left","right"],Lt=["right","left"],ye=["top","bottom"],be=["bottom","top"];function Te(t,e,n){switch(t){case"top":case"bottom":return n?e?Lt:kt:e?kt:Lt;case"left":case"right":return e?ye:be;default:return[]}}function Re(t,e,n,o){const i=mt(t);let s=Te(W(t),n==="start",o);return i&&(s=s.map(r=>r+"-"+i),e&&(s=s.concat(s.map(Rt)))),s}function ct(t){return t.replace(/left|right|bottom|top/g,e=>me[e])}function qe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Se(t){return typeof t!="number"?qe(t):{top:t,right:t,bottom:t,left:t}}function at(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function Et(t,e,n){let{reference:o,floating:i}=t;const s=H(e),r=Wt(e),l=It(r),a=W(e),f=s==="y",u=o.x+o.width/2-i.width/2,d=o.y+o.height/2-i.height/2,g=o[l]/2-i[l]/2;let h;switch(a){case"top":h={x:u,y:o.y-i.height};break;case"bottom":h={x:u,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:d};break;case"left":h={x:o.x-i.width,y:d};break;default:h={x:o.x,y:o.y}}switch(mt(e)){case"start":h[r]-=g*(n&&f?-1:1);break;case"end":h[r]+=g*(n&&f?-1:1);break}return h}async function je(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:s,rects:r,elements:l,strategy:a}=t,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:g=!1,padding:h=0}=gt(e,t),m=Se(h),w=l[g?d==="floating"?"reference":"floating":d],x=at(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:u,strategy:a})),v=d==="floating"?{x:o,y:i,width:r.floating.width,height:r.floating.height}:r.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),y=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},q=at(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:T,strategy:a}):v);return{top:(x.top-q.top+m.top)/y.y,bottom:(q.bottom-x.bottom+m.bottom)/y.y,left:(x.left-q.left+m.left)/y.x,right:(q.right-x.right+m.right)/y.x}}const Ae=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:r}=n,l=s.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(e));let f=await r.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Et(f,o,a),g=o,h={},m=0;for(let w=0;w<l.length;w++){var p;const{name:x,fn:v}=l[w],{x:T,y,data:q,reset:S}=await v({x:u,y:d,initialPlacement:o,placement:g,strategy:i,middlewareData:h,rects:f,platform:{...r,detectOverflow:(p=r.detectOverflow)!=null?p:je},elements:{reference:t,floating:e}});u=T??u,d=y??d,h={...h,[x]:{...h[x],...q}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(f=S.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:d}=Et(f,g,a)),w=-1)}return{x:u,y:d,placement:g,strategy:i,middlewareData:h}},Ce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:s,rects:r,initialPlacement:l,platform:a,elements:f}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...w}=gt(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=W(i),v=H(l),T=W(l)===l,y=await(a.isRTL==null?void 0:a.isRTL(f.floating)),q=g||(T||!p?[ct(l)]:ve(l)),S=m!=="none";!g&&S&&q.push(...Re(l,p,m,y));const j=[l,...q],F=await a.detectOverflow(e,w),$=[];let P=((o=s.flip)==null?void 0:o.overflows)||[];if(u&&$.push(F[x]),d){const k=we(i,r,y);$.push(F[k[0]],F[k[1]])}if(P=[...P,{placement:i,overflows:$}],!$.every(k=>k<=0)){var X,K;const k=(((X=s.flip)==null?void 0:X.index)||0)+1,Q=j[k];if(Q&&(!(d==="alignment"?v!==H(Q):!1)||P.every(b=>H(b.placement)===v?b.overflows[0]>0:!0)))return{data:{index:k,overflows:P},reset:{placement:Q}};let A=(K=P.filter(D=>D.overflows[0]<=0).sort((D,b)=>D.overflows[1]-b.overflows[1])[0])==null?void 0:K.placement;if(!A)switch(h){case"bestFit":{var _;const D=(_=P.filter(b=>{if(S){const C=H(b.placement);return C===v||C==="y"}return!0}).map(b=>[b.placement,b.overflows.filter(C=>C>0).reduce((C,Z)=>C+Z,0)]).sort((b,C)=>b[1]-C[1])[0])==null?void 0:_[0];D&&(A=D);break}case"initialPlacement":A=l;break}if(i!==A)return{reset:{placement:A}}}return{}}}},Oe=new Set(["left","top"]);async function ke(t,e){const{placement:n,platform:o,elements:i}=t,s=await(o.isRTL==null?void 0:o.isRTL(i.floating)),r=W(n),l=mt(n),a=H(n)==="y",f=Oe.has(r)?-1:1,u=s&&a?-1:1,d=gt(e,t);let{mainAxis:g,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof m=="number"&&(h=l==="end"?m*-1:m),a?{x:h*u,y:g*f}:{x:g*f,y:h*u}}const Le=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:s,placement:r,middlewareData:l}=e,a=await ke(e,t);return r===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:r}}}}},Ee=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i,platform:s}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:a={fn:x=>{let{x:v,y:T}=x;return{x:v,y:T}}},...f}=gt(t,e),u={x:n,y:o},d=await s.detectOverflow(e,f),g=H(W(i)),h=Vt(g);let m=u[h],p=u[g];if(r){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",T=m+d[x],y=m-d[v];m=Ot(T,m,y)}if(l){const x=g==="y"?"top":"left",v=g==="y"?"bottom":"right",T=p+d[x],y=p-d[v];p=Ot(T,p,y)}const w=a.fn({...e,[h]:m,[g]:p});return{...w,data:{x:w.x-n,y:w.y-o,enabled:{[h]:r,[g]:l}}}}}};function xt(){return typeof window<"u"}function G(t){return zt(t)?(t.nodeName||"").toLowerCase():"#document"}function O(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function B(t){var e;return(e=(zt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zt(t){return xt()?t instanceof Node||t instanceof O(t).Node:!1}function L(t){return xt()?t instanceof Element||t instanceof O(t).Element:!1}function N(t){return xt()?t instanceof HTMLElement||t instanceof O(t).HTMLElement:!1}function Pt(t){return!xt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof O(t).ShadowRoot}const Pe=new Set(["inline","contents"]);function tt(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=E(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!Pe.has(i)}const De=new Set(["table","td","th"]);function Me(t){return De.has(G(t))}const Ne=[":popover-open",":modal"];function pt(t){return Ne.some(e=>{try{return t.matches(e)}catch{return!1}})}const Be=["transform","translate","scale","rotate","perspective"],Fe=["transform","translate","scale","rotate","perspective","filter"],_e=["paint","layout","strict","content"];function jt(t){const e=At(),n=L(t)?E(t):t;return Be.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Fe.some(o=>(n.willChange||"").includes(o))||_e.some(o=>(n.contain||"").includes(o))}function Ze(t){let e=V(t);for(;N(e)&&!U(e);){if(jt(e))return e;if(pt(e))return null;e=V(e)}return null}function At(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const He=new Set(["html","body","#document"]);function U(t){return He.has(G(t))}function E(t){return O(t).getComputedStyle(t)}function wt(t){return L(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function V(t){if(G(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Pt(t)&&t.host||B(t);return Pt(e)?e.host:e}function $t(t){const e=V(t);return U(e)?t.ownerDocument?t.ownerDocument.body:t.body:N(e)&&tt(e)?e:$t(e)}function J(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=$t(t),s=i===((o=t.ownerDocument)==null?void 0:o.body),r=O(i);if(s){const l=qt(r);return e.concat(r,r.visualViewport||[],tt(i)?i:[],l&&n?J(l):[])}return e.concat(i,J(i,[],n))}function qt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xt(t){const e=E(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=N(t),s=i?t.offsetWidth:n,r=i?t.offsetHeight:o,l=lt(n)!==s||lt(o)!==r;return l&&(n=s,o=r),{width:n,height:o,$:l}}function Ct(t){return L(t)?t:t.contextElement}function Y(t){const e=Ct(t);if(!N(e))return M(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:s}=Xt(e);let r=(s?lt(n.width):n.width)/o,l=(s?lt(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const Ve=M(0);function Qt(t){const e=O(t);return!At()||!e.visualViewport?Ve:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ie(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==O(t)?!1:e}function z(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Ct(t);let r=M(1);e&&(o?L(o)&&(r=Y(o)):r=Y(t));const l=Ie(s,n,o)?Qt(s):M(0);let a=(i.left+l.x)/r.x,f=(i.top+l.y)/r.y,u=i.width/r.x,d=i.height/r.y;if(s){const g=O(s),h=o&&L(o)?O(o):o;let m=g,p=qt(m);for(;p&&o&&h!==m;){const w=Y(p),x=p.getBoundingClientRect(),v=E(p),T=x.left+(p.clientLeft+parseFloat(v.paddingLeft))*w.x,y=x.top+(p.clientTop+parseFloat(v.paddingTop))*w.y;a*=w.x,f*=w.y,u*=w.x,d*=w.y,a+=T,f+=y,m=O(p),p=qt(m)}}return at({width:u,height:d,x:a,y:f})}function vt(t,e){const n=wt(t).scrollLeft;return e?e.left+n:z(B(t)).left+n}function Yt(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-vt(t,n),i=n.top+e.scrollTop;return{x:o,y:i}}function We(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const s=i==="fixed",r=B(o),l=e?pt(e.floating):!1;if(o===r||l&&s)return n;let a={scrollLeft:0,scrollTop:0},f=M(1);const u=M(0),d=N(o);if((d||!d&&!s)&&((G(o)!=="body"||tt(r))&&(a=wt(o)),N(o))){const h=z(o);f=Y(o),u.x=h.x+o.clientLeft,u.y=h.y+o.clientTop}const g=r&&!d&&!s?Yt(r,a):M(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-a.scrollLeft*f.x+u.x+g.x,y:n.y*f.y-a.scrollTop*f.y+u.y+g.y}}function ze(t){return Array.from(t.getClientRects())}function $e(t){const e=B(t),n=wt(t),o=t.ownerDocument.body,i=I(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=I(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+vt(t);const l=-n.scrollTop;return E(o).direction==="rtl"&&(r+=I(e.clientWidth,o.clientWidth)-i),{width:i,height:s,x:r,y:l}}const Dt=25;function Xe(t,e){const n=O(t),o=B(t),i=n.visualViewport;let s=o.clientWidth,r=o.clientHeight,l=0,a=0;if(i){s=i.width,r=i.height;const u=At();(!u||u&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}const f=vt(o);if(f<=0){const u=o.ownerDocument,d=u.body,g=getComputedStyle(d),h=u.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,m=Math.abs(o.clientWidth-d.clientWidth-h);m<=Dt&&(s-=m)}else f<=Dt&&(s+=f);return{width:s,height:r,x:l,y:a}}const Qe=new Set(["absolute","fixed"]);function Ye(t,e){const n=z(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,s=N(t)?Y(t):M(1),r=t.clientWidth*s.x,l=t.clientHeight*s.y,a=i*s.x,f=o*s.y;return{width:r,height:l,x:a,y:f}}function Mt(t,e,n){let o;if(e==="viewport")o=Xe(t,n);else if(e==="document")o=$e(B(t));else if(L(e))o=Ye(e,n);else{const i=Qt(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return at(o)}function Ut(t,e){const n=V(t);return n===e||!L(n)||U(n)?!1:E(n).position==="fixed"||Ut(n,e)}function Ue(t,e){const n=e.get(t);if(n)return n;let o=J(t,[],!1).filter(l=>L(l)&&G(l)!=="body"),i=null;const s=E(t).position==="fixed";let r=s?V(t):t;for(;L(r)&&!U(r);){const l=E(r),a=jt(r);!a&&l.position==="fixed"&&(i=null),(s?!a&&!i:!a&&l.position==="static"&&!!i&&Qe.has(i.position)||tt(r)&&!a&&Ut(t,r))?o=o.filter(u=>u!==r):i=l,r=V(r)}return e.set(t,o),o}function Ge(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...n==="clippingAncestors"?pt(e)?[]:Ue(e,this._c):[].concat(n),o],l=r[0],a=r.reduce((f,u)=>{const d=Mt(e,u,i);return f.top=I(d.top,f.top),f.right=rt(d.right,f.right),f.bottom=rt(d.bottom,f.bottom),f.left=I(d.left,f.left),f},Mt(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Ke(t){const{width:e,height:n}=Xt(t);return{width:e,height:n}}function Je(t,e,n){const o=N(e),i=B(e),s=n==="fixed",r=z(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const a=M(0);function f(){a.x=vt(i)}if(o||!o&&!s)if((G(e)!=="body"||tt(i))&&(l=wt(e)),o){const h=z(e,!0,s,e);a.x=h.x+e.clientLeft,a.y=h.y+e.clientTop}else i&&f();s&&!o&&i&&f();const u=i&&!o&&!s?Yt(i,l):M(0),d=r.left+l.scrollLeft-a.x-u.x,g=r.top+l.scrollTop-a.y-u.y;return{x:d,y:g,width:r.width,height:r.height}}function yt(t){return E(t).position==="static"}function Nt(t,e){if(!N(t)||E(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return B(t)===n&&(n=n.ownerDocument.body),n}function Gt(t,e){const n=O(t);if(pt(t))return n;if(!N(t)){let i=V(t);for(;i&&!U(i);){if(L(i)&&!yt(i))return i;i=V(i)}return n}let o=Nt(t,e);for(;o&&Me(o)&&yt(o);)o=Nt(o,e);return o&&U(o)&&yt(o)&&!jt(o)?n:o||Ze(t)||n}const tn=async function(t){const e=this.getOffsetParent||Gt,n=this.getDimensions,o=await n(t.floating);return{reference:Je(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function en(t){return E(t).direction==="rtl"}const nn={convertOffsetParentRelativeRectToViewportRelativeRect:We,getDocumentElement:B,getClippingRect:Ge,getOffsetParent:Gt,getElementRects:tn,getClientRects:ze,getDimensions:Ke,getScale:Y,isElement:L,isRTL:en};function Kt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function on(t,e){let n=null,o;const i=B(t);function s(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function r(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const f=t.getBoundingClientRect(),{left:u,top:d,width:g,height:h}=f;if(l||e(),!g||!h)return;const m=nt(d),p=nt(i.clientWidth-(u+g)),w=nt(i.clientHeight-(d+h)),x=nt(u),T={rootMargin:-m+"px "+-p+"px "+-w+"px "+-x+"px",threshold:I(0,rt(1,a))||1};let y=!0;function q(S){const j=S[0].intersectionRatio;if(j!==a){if(!y)return r();j?r(!1,j):o=setTimeout(()=>{r(!1,1e-7)},1e3)}j===1&&!Kt(f,t.getBoundingClientRect())&&r(),y=!1}try{n=new IntersectionObserver(q,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(q,T)}n.observe(t)}return r(!0),s}function sn(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,f=Ct(t),u=i||s?[...f?J(f):[],...J(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const d=f&&l?on(f,n):null;let g=-1,h=null;r&&(h=new ResizeObserver(x=>{let[v]=x;v&&v.target===f&&h&&(h.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=h)==null||T.observe(e)})),n()}),f&&!a&&h.observe(f),h.observe(e));let m,p=a?z(t):null;a&&w();function w(){const x=z(t);p&&!Kt(p,x)&&n(),p=x,m=requestAnimationFrame(w)}return n(),()=>{var x;u.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d?.(),(x=h)==null||x.disconnect(),h=null,a&&cancelAnimationFrame(m)}}const rn=Le,ln=Ee,cn=Ce,an=(t,e,n)=>{const o=new Map,i={platform:nn,...n},s={...i.platform,_c:o};return Ae(t,e,{...i,platform:s})};var fn=typeof document<"u",un=function(){},ot=fn?R.useLayoutEffect:un;function ft(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!ft(t[o],e[o]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,i[o]))return!1;for(o=n;o--!==0;){const s=i[o];if(!(s==="_owner"&&t.$$typeof)&&!ft(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Jt(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Bt(t,e){const n=Jt(t);return Math.round(e*n)/n}function bt(t){const e=R.useRef(t);return ot(()=>{e.current=t}),e}function dn(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:s,floating:r}={},transform:l=!0,whileElementsMounted:a,open:f}=t,[u,d]=R.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,h]=R.useState(o);ft(g,o)||h(o);const[m,p]=R.useState(null),[w,x]=R.useState(null),v=R.useCallback(b=>{b!==S.current&&(S.current=b,p(b))},[]),T=R.useCallback(b=>{b!==j.current&&(j.current=b,x(b))},[]),y=s||m,q=r||w,S=R.useRef(null),j=R.useRef(null),F=R.useRef(u),$=a!=null,P=bt(a),X=bt(i),K=bt(f),_=R.useCallback(()=>{if(!S.current||!j.current)return;const b={placement:e,strategy:n,middleware:g};X.current&&(b.platform=X.current),an(S.current,j.current,b).then(C=>{const Z={...C,isPositioned:K.current!==!1};k.current&&!ft(F.current,Z)&&(F.current=Z,ce.flushSync(()=>{d(Z)}))})},[g,e,n,X,K]);ot(()=>{f===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,d(b=>({...b,isPositioned:!1})))},[f]);const k=R.useRef(!1);ot(()=>(k.current=!0,()=>{k.current=!1}),[]),ot(()=>{if(y&&(S.current=y),q&&(j.current=q),y&&q){if(P.current)return P.current(y,q,_);_()}},[y,q,_,P,$]);const Q=R.useMemo(()=>({reference:S,floating:j,setReference:v,setFloating:T}),[v,T]),A=R.useMemo(()=>({reference:y,floating:q}),[y,q]),D=R.useMemo(()=>{const b={position:n,left:0,top:0};if(!A.floating)return b;const C=Bt(A.floating,u.x),Z=Bt(A.floating,u.y);return l?{...b,transform:"translate("+C+"px, "+Z+"px)",...Jt(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:C,top:Z}},[n,l,A.floating,u.x,u.y]);return R.useMemo(()=>({...u,update:_,refs:Q,elements:A,floatingStyles:D}),[u,_,Q,A,D])}const hn=(t,e)=>({...rn(t),options:[t,e]}),gn=(t,e)=>({...ln(t),options:[t,e]}),mn=(t,e)=>({...cn(t),options:[t,e]});function xn(){const t=ht();return c.jsxs(c.Fragment,{children:[c.jsx(Tt,{text:"Login",onClick:()=>{t("/auth?action=login")}}),c.jsx("span",{className:"md:block hidden",children:c.jsx(Tt,{text:"Sign up",isPrimary:!0,onClick:()=>{t("/auth?action=signup")}})})]})}function pn(){const[t,e]=R.useState(!1),n=R.useRef(null),o=ht(),{refs:i,x:s,y:r,strategy:l}=dn({middleware:[hn(6),mn(),gn({padding:8})],whileElementsMounted:sn});R.useEffect(()=>{n.current&&i.setReference(n.current)},[i]);const a=()=>{e(!1),alert("Note: this will only delete the refresh token on your browser. It will not be revoked and an attacker can still use the current refresh token to access your account even after logging out."),ie(""),se(""),Zt.setState({isLoggedIn:!1}),o("/auth?action=login")},f=()=>{e(!1),o("/profile")};return c.jsxs("div",{children:[c.jsx(Ht,{icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"36px",viewBox:"0 -960 960 960",width:"36px",fill:"#1f1f1f",children:c.jsx("path",{d:"M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm146.5-204.5Q340-521 340-580t40.5-99.5Q421-720 480-720t99.5 40.5Q620-639 620-580t-40.5 99.5Q539-440 480-440t-99.5-40.5ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm100-95.5q47-15.5 86-44.5-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160q53 0 100-15.5ZM523-537q17-17 17-43t-17-43q-17-17-43-17t-43 17q-17 17-17 43t17 43q17 17 43 17t43-17Zm-43-43Zm0 360Z"})}),ref:n,onClick:()=>{e(!t)}}),c.jsx(ge,{options:[{icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"})}),text:"Edit Profile",onClick:f},{icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z"})}),text:"Logout",onClick:a}],floatingRef:i.setFloating,x:s,y:r,strategy:l,visible:t})]})}function wn(){const t=St(o=>o.width),e=()=>{const o=st.getState().visible;st.setState({visible:!o})},n=Zt(o=>o.isLoggedIn);return c.jsxs("div",{className:"gap-4 w-[100vw] h-16 bg-white border-b border-b-black/15 flex items-center px-2 py-2",children:[t<640&&c.jsx(Ht,{icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"})}),square:!0,onClick:e,larger:!0}),c.jsx("h1",{className:"font-bold text-2xl md:block hidden",children:"React-2-Pytailred"}),c.jsx("input",{className:"flex-grow-1 rounded-md border border-black/15 px-2 py-2",placeholder:"Giant Search Bar... Search?"}),n?c.jsx(pn,{}):c.jsx(xn,{})]})}function vn(t){const e=ht(),n=re("flex items-center gap-2 px-4 py-2 cursor-pointer rounded-md w-full",t.selected?"bg-black/10":"bg-transparent",t.selected?"hover:bg-black/15":"hover:bg-black/5","transition-colors");return c.jsxs("button",{className:n,onClick:()=>{e(t.navigateTo)},children:[c.jsx("span",{children:t.selected?t.filledIcon:t.icon}),c.jsx("span",{className:"text-black font-bold",children:t.text})]})}const it={Home:0,Discover:1,Trending:2};Ft(()=>({displayedTab:it.Home}));const yn=[{id:it.Home,text:"Home",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"})}),filledIcon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"M160-120v-480l320-240 320 240v480H560v-280H400v280H160Z"})}),navgiateTo:"/"},{id:it.Discover,text:"Discover",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"m300-300 280-80 80-280-280 80-80 280Zm180-120q-25 0-42.5-17.5T420-480q0-25 17.5-42.5T480-540q25 0 42.5 17.5T540-480q0 25-17.5 42.5T480-420Zm0 340q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Zm0-320Z"})}),filledIcon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"m300-300 280-80 80-280-280 80-80 280Zm180-120q-25 0-42.5-17.5T420-480q0-25 17.5-42.5T480-540q25 0 42.5 17.5T540-480q0 25-17.5 42.5T480-420Zm0 340q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"})}),navgiateTo:"/discover"},{id:it.Trending,text:"Trending",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"M240-400q0 52 21 98.5t60 81.5q-1-5-1-9v-9q0-32 12-60t35-51l113-111 113 111q23 23 35 51t12 60v9q0 4-1 9 39-35 60-81.5t21-98.5q0-50-18.5-94.5T648-574q-20 13-42 19.5t-45 6.5q-62 0-107.5-41T401-690q-39 33-69 68.5t-50.5 72Q261-513 250.5-475T240-400Zm240 52-57 56q-11 11-17 25t-6 29q0 32 23.5 55t56.5 23q33 0 56.5-23t23.5-55q0-16-6-29.5T537-292l-57-56Zm0-492v132q0 34 23.5 57t57.5 23q18 0 33.5-7.5T622-658l18-22q74 42 117 117t43 163q0 134-93 227T480-80q-134 0-227-93t-93-227q0-129 86.5-245T480-840Z"})}),filledIcon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#1f1f1f",children:c.jsx("path",{d:"M160-400q0-105 50-187t110-138q60-56 110-85.5l50-29.5v132q0 37 25 58.5t56 21.5q17 0 32.5-7t28.5-23l18-22q72 42 116 116.5T800-400q0 88-43 160.5T644-125q17-24 26.5-52.5T680-238q0-40-15-75.5T622-377L480-516 339-377q-29 29-44 64t-15 75q0 32 9.5 60.5T316-125q-70-42-113-114.5T160-400Zm320-4 85 83q17 17 26 38t9 45q0 49-35 83.5T480-120q-50 0-85-34.5T360-238q0-23 9-44.5t26-38.5l85-83Z"})}),navgiateTo:"/trending"}];function bn(){const t=St(n=>n.width),e=st(n=>n.visible);return c.jsx(_t,{children:e||t>640?c.jsx(le,{className:"flex flex-col border-r border-r-black/15 h-full gap-1 px-2 z-97 py-2 lg:min-w-60 sm:min-w-fit min-w-75 fixed sm:relative sm:w-fit w-75 bg-white",children:yn.map(n=>c.jsx(vn,{icon:n.icon,text:n.text,selected:window.location.pathname==n.navgiateTo,navigateTo:n.navgiateTo,filledIcon:n.filledIcon},n.id))}):null})}function qn(){const t=ht();return c.jsxs("div",{children:[c.jsxs("div",{className:"w-[100vw] h-[100vh] fixed flex flex-col",children:[c.jsx("div",{children:c.jsx(wn,{})}),c.jsxs("div",{className:"flex-grow-1 flex",children:[c.jsx(bn,{}),c.jsx(he,{})]})]}),c.jsx("div",{className:"fixed bottom-4 right-4",children:c.jsx(Tt,{isPrimary:!0,text:"Post",icon:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#fff",children:c.jsx("path",{d:"M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"})}),onClick:()=>{t("/create")},additionalClasses:"shadow-lg/20"})})]})}export{qn as default};
